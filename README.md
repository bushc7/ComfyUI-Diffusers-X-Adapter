# Some mofications to make the wrapper node more ComfyUI-node-like
This is meant for testing only.
Some ComfyUI nodes, e.g. the "Load LoRA", "CLIP Set Last Layer" nodes, can now be connected to the wrapper.
You can now use multiple LoRAs on the node and Clip skip is also effective.

## Original README
# ComfyUI wrapper node for X-Adapter diffusers implementation.

This is meant for testing only, with the ability to use same models and python env as ComfyUI, it is NOT a proper ComfyUI implementation!
### I won't be bothering with backwards compability with this node, in many updates you will have to remake any existing nodes (or set widget values again)

# Known limitations:
  - As this is only a wrapper, it's not compatible with anything else in ComfyUI, besides input preprocessing and being able to load and convert most models for the Diffusers pipeline
  - Ohe ratio between 1.5 and SDXL resolution also has to be exactly 1:2
  - Some ControlNets/LoRAs won't load, and results with some combos seem broken

![Screenshot from 2024-02-22 14-15-35](https://github.com/kijai/ComfyUI-Diffusers-X-Adapter/assets/40791699/8a101ed1-e00c-41d3-98bd-b5cf38dc6123)
![image](https://github.com/kijai/ComfyUI-Diffusers-X-Adapter/assets/40791699/bf9dc281-8f9f-43d3-99c5-3ba255ea69bf)
![image](https://github.com/kijai/ComfyUI-Diffusers-X-Adapter/assets/40791699/530bb971-a8e5-4688-94d4-d7949dd56e1d)

# X-Adapter

This repository is the official implementation of [X-Adapter](https://arxiv.org/abs/2312.02238).

**[X-Adapter: Adding Universal Compatibility of Plugins for Upgraded Diffusion Model](https://arxiv.org/abs/2312.02238)**
<br/>
[Lingmin Ran](),
[Xiaodong Cun](https://vinthony.github.io/academic/),
[Jia-Wei Liu](https://jia-wei-liu.github.io/), 
[Rui Zhao](https://ruizhaocv.github.io/), 
[Song Zijie](), 
[Xintao Wang](https://xinntao.github.io/),
[Jussi Keppo](https://www.jussikeppo.com/), 
[Mike Zheng Shou](https://sites.google.com/view/showlab)
<br/>

[![Project Website](https://img.shields.io/badge/Project-Website-orange)](https://showlab.github.io/X-Adapter/)
[![arXiv](https://img.shields.io/badge/arXiv-2312.02238-b31b1b.svg)](https://arxiv.org/abs/2312.02238)

![Overview_v7](https://github.com/showlab/X-Adapter/assets/152716091/eb41c508-826c-404f-8223-09765765823b)

<em> X-Adapter enable plugins pretrained on old version (e.g. SD1.5) directly work with the upgraded Model (e.g., SDXL) without further retraining.</em>

[//]: # (<p align="center">)

[//]: # (<img src="https://tuneavideo.github.io/assets/teaser.gif" width="1080px"/>  )

[//]: # (<br>)

[//]: # (<em>Given a video-text pair as input, our method, Tune-A-Video, fine-tunes a pre-trained text-to-image diffusion model for text-to-video generation.</em>)

[//]: # (</p>)


## Cite
If you find X-Adapter useful for your research and applications, please cite us using this BibTeX:

```bibtex
@article{ran2023xadapter,
  title={X-Adapter: Adding Universal Compatibility of Plugins for Upgraded Diffusion Model},
  author={Lingmin Ran and Xiaodong Cun and Jia-Wei Liu and Rui Zhao and Song Zijie and Xintao Wang and Jussi Keppo and Mike Zheng Shou},
  journal={arXiv preprint arXiv:2312.02238},
  year={2023}
}
```
